@KQM::Tome "FAL" {
    Description:
        FAL == Form-Atom Language
        Язык описания состояния любой системы как набора Атомов разных Форм.
        Определен с целью внесения в использующих язык описаний максимальной строгости и точности
        Позволяет определить полное состояние системы как Атом более высокого уровня и говорить об операциях с ним
        Использование FAL уводит от заложенных в язык ассоциаций и аккуратно вносит нужные, что важно для работы с LLM

        "Законы природы ничего не знают об Английском Языке, но могут быть им описаны" (если кому-то режет глаз форма записи этого текста)

    Facts {
        @KQM::Fact "Atom" {
            Q: inf // fundamental definition
            Core:
                Единая неделимая адресуемая сущность своего слоя абстракции
            Reason:
                обобщение понятий "объект, реализация интерфейса, данные" как "экземпляр, инстанс, частный случай адресуемый"
        }

        @KQM::Fact "Form" {
            Q: inf // fundamental definition
            Core:
                класс атомов одного слоя абстракции, задающий их структуру и допустимые связи
            Reason:
                обобщение понятий "класс, интерфейс, протокол" как "способ, рамка, договоренность"
        }

        @KQM::Fact "MetaForm" {
            Q: 0.85 // convenience definition
            Core:
                Для любого непустого множества F Форм {MyFormX, MyFormY,...} может существовать @Form MyForms,
                где каждый из F - ее Атом. Такая "Форма, Атомы которой - сами по себе Формы" может быть названа MetaForm
                Верно следующее: МетаФорма является Формой
            Reason:
                Естественно проявляющийся в разных системах паттерн - Метакласс, Parent class, template
        }


        QKQM::Fact "FundamentalDefinitions" {
            Q: 0.2 // definitions explaination
            Core:
                Двойка ключевых определений тома по сути:
                - Form (Форма): что может быть
                - Atom (Атом): что есть
            Reason:
                Понимание на базовом уровне получено в рассуждениях
        }

        @KQM::Fact "AB-BA" {
            Q: inf // cognitive law
            Core:
                Когнитивные связи между @Form всегда односторонние. Граф всех возможных @Form ацикличен.
            Reason:
                Возведенная в абсолют борьба с циклическими связями между классами в программировании
        }

        @KQM::Fact "TypeVsInstanceSeparation" {
            Q: 0.9 // clarification
            Core:
                AB-BA регулирует только связи между @Form (типами, классами), а не между @Atom (экземплярами, объектами).
                @Atom могут формировать любые runtime-графы, включая циклы — это не нарушает ацикличность DAG типов.
                @Form описывает структуру @Atom, но не диктует, как @Atom взаимодействуют во время исполнения.
            Reason:
                Убирает путаницу между compile-time зависимостями типов и runtime-связями экземпляров.
                В ООП аналог: классы могут иметь unidirectional зависимости (наследование), но объекты — bidirectional ссылки.
        }

        @KQM::Fact "ForAtomDualism" {
            Q: 1.0 // definition linkage
            Core:
                Определения @Form и @Atom имеют смысл в паре, устанавливая отношения вида "тип-сущность"
            Reason:
                Дуализм имеет аналоги в разных предметных областях: "Класс/Объект" или "Интерфейс/Реализация" или "Шаблон/Инстанс шаблона" или "type/value"
                но для ECS необходимо строго утверждать единственность @Form для @Atom без ООП шелухи в виде полиморфизма
        }

        @KQM::Fact "PropertiesOfDefinitions" {
            Q: 0.8 // properties
            Core:
                Разрешена вложенность: @Atom более высокого уровня абстракции может содержать множество @Atom разных @Form более низкого уровня
                Единственность @Form: @Atom имеет одну и только одну @Form
            Reason:
                Закрепление понимания определений и выявление важнейших свойств
        }

        @KQM::Fact "PropertiesOfAB-BA" {
            Q: 0.8 // properties
            Core:
                Правило AB-BA не зависит от уровней системы: действует на зависимости @Form как внутри слоя, так и между слоями
                Частный случай правила: если система S знает о какой-либо своей части A, то части A запрещено знать о системе S
                DAG-тяготение: любая совокупность @Form представима в виде DAG (Directed Acyclic Graph)
                Правило Третьего: если @Atom двух различных @Form взаимно нуждаются в данных друг друга, это указывает на рождение новой @Form
            Reason:
                Обобщение практического опыта архитектуры программного обеспечения, где двусторонние зависимости приводят к росту технического долга
        }

        @KQM::Fact "SometimesFormsAreAtoms" {
            Q: 0.2 // наблюдение
            Core:
                Формы иногда могут быть представлны как Атомы некоей МетаФормы
            Reason:
                Постоянно проявляется на практике как удобство: тут и там видятся мета-классы
        }
    }
}

